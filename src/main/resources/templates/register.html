<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Email-Claim Automation â€” Register</title>
    <link rel="stylesheet" th:href="@{'/css/login.css'}"/>
</head>
<body>
<header style="display:flex; align-items:center; justify-content:space-between; background:#0a1a2f; color:#fff; padding:10px 20px;">
    <div style="display:flex; align-items:center; gap:12px;">
        <img src="images/logo-white.png" alt="Logo" style="height:70px; width:auto;">
        <h1>Email-Claim Automation <span style="color:#93c5fd;">Workbench</span></h1>
    </div>
</header>

<main>
    <div class="login-card" style="margin:auto; margin-top:50px;">
        <h2>Register New Account</h2>
        <form id="registerForm">

            <input type="text" id="username" placeholder="ğŸ‘¤ Username" required />

            <!-- Password -->
            <div class="password-wrapper" style="position: relative;">
                <input type="password" id="password" placeholder="ğŸ”’ Password" required />
                <span class="toggle-eye" data-target="password"
                      style="position:absolute; right:10px; top:50%; transform:translateY(-50%); cursor:pointer;">
            ğŸ‘ï¸
        </span>
            </div>

            <!-- Confirm Password -->
            <div class="password-wrapper" style="position: relative; margin-top:8px;">
                <input type="password" id="confirmPassword" placeholder="ğŸ”’ Confirm Password" required />
                <span class="toggle-eye" data-target="confirmPassword"
                      style="position:absolute; right:10px; top:50%; transform:translateY(-50%); cursor:pointer;">
            ğŸ‘ï¸
        </span>
            </div>

            <button type="submit">ğŸ“ Register</button>

            <p id="registerMessage" style="margin-top:1rem; color:#f8fafc; font-size:0.9rem;"></p>
        </form>

        <p style="margin-top:1rem; text-align:center;">
            Already have an account?
            <a href="/login-page" style="color:#93c5fd;">Login here</a>
        </p>
    </div>
</main>

<div th:replace="fragments/footer :: main-footer"></div>

<script th:src="@{'/js/auth.js'}"></script>
<script th:src="@{'/js/register.js'}"></script>
<script>
    document.querySelectorAll(".toggle-eye").forEach(icon => {
        icon.addEventListener("click", () => {
            const input = document.getElementById(icon.dataset.target);
            const isHidden = input.type === "password";

            input.type = isHidden ? "text" : "password";
            icon.textContent = isHidden ? "ğŸ™ˆ" : "ğŸ‘ï¸";
        });
    });
</script>
</body>
</html>